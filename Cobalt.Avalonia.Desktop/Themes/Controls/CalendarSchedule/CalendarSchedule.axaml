<ResourceDictionary xmlns="https://github.com/avaloniaui"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:controls="using:Cobalt.Avalonia.Desktop.Controls.CalendarSchedule">

    <ControlTheme x:Key="{x:Type controls:CalendarSchedule}" TargetType="controls:CalendarSchedule">
        <Setter Property="Template">
            <ControlTemplate>
                <Border Background="{DynamicResource CobaltSurfaceBrush}"
                        CornerRadius="8"
                        ClipToBounds="True">
                    <DockPanel>

                        <!-- Header -->
                        <Border DockPanel.Dock="Top"
                                Background="{DynamicResource CobaltBackgroundBrush}"
                                BorderBrush="{DynamicResource CobaltBorderSubtleBrush}"
                                BorderThickness="0,0,0,1"
                                Padding="12,8">
                            <Grid ColumnDefinitions="Auto,*,Auto">
                                <!-- Navigation buttons -->
                                <StackPanel Grid.Column="0" Orientation="Horizontal" Spacing="4"
                                            VerticalAlignment="Center">
                                    <Button x:Name="PART_PreviousButton"
                                            Padding="6,4" MinWidth="0"
                                            Background="Transparent" BorderThickness="0">
                                        <PathIcon Data="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"
                                                  Width="14" Height="14"
                                                  Foreground="{DynamicResource CobaltForegroundBrush}" />
                                    </Button>
                                    <Button x:Name="PART_TodayButton"
                                            Content="Today"
                                            Padding="10,4" MinWidth="0"
                                            FontSize="12"
                                            Background="Transparent"
                                            BorderBrush="{DynamicResource CobaltBorderBrush}"
                                            BorderThickness="1"
                                            CornerRadius="4" />
                                    <Button x:Name="PART_NextButton"
                                            Padding="6,4" MinWidth="0"
                                            Background="Transparent" BorderThickness="0">
                                        <PathIcon Data="M8.59 16.59L10 18l6-6-6-6-1.41 1.41L13.17 12z"
                                                  Width="14" Height="14"
                                                  Foreground="{DynamicResource CobaltForegroundBrush}" />
                                    </Button>
                                </StackPanel>

                                <!-- Title -->
                                <TextBlock x:Name="PART_HeaderTitle"
                                           Grid.Column="1"
                                           FontSize="16" FontWeight="SemiBold"
                                           VerticalAlignment="Center"
                                           Margin="16,0,0,0"
                                           Foreground="{DynamicResource CobaltForegroundBrush}" />

                                <!-- View mode buttons -->
                                <StackPanel Grid.Column="2" Orientation="Horizontal" Spacing="2"
                                            VerticalAlignment="Center">
                                    <Button x:Name="PART_WeekButton"
                                            Content="Week"
                                            Padding="10,4" MinWidth="0"
                                            FontSize="12"
                                            Background="Transparent"
                                            BorderThickness="0"
                                            CornerRadius="4" />
                                    <Button x:Name="PART_MonthButton"
                                            Content="Month"
                                            Padding="10,4" MinWidth="0"
                                            FontSize="12"
                                            Background="Transparent"
                                            BorderThickness="0"
                                            CornerRadius="4" />
                                </StackPanel>
                            </Grid>
                        </Border>

                        <!-- Body: Sidebar + Main View -->
                        <Grid ColumnDefinitions="200,*">

                            <!-- Sidebar - Mini Calendar -->
                            <Border Grid.Column="0"
                                    BorderBrush="{DynamicResource CobaltBorderSubtleBrush}"
                                    BorderThickness="0,0,1,0"
                                    Padding="12,8">
                                <StackPanel>
                                    <!-- Mini calendar header -->
                                    <Grid ColumnDefinitions="Auto,*,Auto" Margin="0,0,0,8">
                                        <Button x:Name="PART_MiniCalPrevButton"
                                                Grid.Column="0"
                                                Padding="4" MinWidth="0"
                                                Background="Transparent" BorderThickness="0">
                                            <PathIcon Data="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"
                                                      Width="10" Height="10"
                                                      Foreground="{DynamicResource CobaltForegroundSecondaryBrush}" />
                                        </Button>
                                        <TextBlock x:Name="PART_MiniCalTitle"
                                                   Grid.Column="1"
                                                   FontSize="12" FontWeight="SemiBold"
                                                   HorizontalAlignment="Center"
                                                   VerticalAlignment="Center"
                                                   Foreground="{DynamicResource CobaltForegroundBrush}" />
                                        <Button x:Name="PART_MiniCalNextButton"
                                                Grid.Column="2"
                                                Padding="4" MinWidth="0"
                                                Background="Transparent" BorderThickness="0">
                                            <PathIcon Data="M8.59 16.59L10 18l6-6-6-6-1.41 1.41L13.17 12z"
                                                      Width="10" Height="10"
                                                      Foreground="{DynamicResource CobaltForegroundSecondaryBrush}" />
                                        </Button>
                                    </Grid>

                                    <!-- Mini calendar grid -->
                                    <Grid x:Name="PART_MiniCalGrid"
                                          ColumnDefinitions="*,*,*,*,*,*,*"
                                          RowDefinitions="Auto,*,*,*,*,*,*">
                                    </Grid>
                                </StackPanel>
                            </Border>

                            <!-- Main view area -->
                            <Panel Grid.Column="1">

                                <!-- Month View -->
                                <DockPanel x:Name="PART_MonthView">
                                    <!-- Day-of-week headers -->
                                    <Grid x:Name="PART_MonthViewDayHeaders"
                                          DockPanel.Dock="Top"
                                          ColumnDefinitions="*,*,*,*,*,*,*"
                                          Margin="0,8,0,4" />

                                    <!-- Month grid -->
                                    <Grid x:Name="PART_MonthViewGrid"
                                          ColumnDefinitions="*,*,*,*,*,*,*"
                                          RowDefinitions="*,*,*,*,*,*" />
                                </DockPanel>

                                <!-- Week View -->
                                <DockPanel x:Name="PART_WeekView">
                                    <!-- Day headers -->
                                    <Grid x:Name="PART_WeekViewDayHeaders"
                                          DockPanel.Dock="Top"
                                          ColumnDefinitions="50,*,*,*,*,*,*,*"
                                          Margin="0,4,0,4" />

                                    <!-- Scrollable time grid -->
                                    <ScrollViewer x:Name="PART_WeekViewScrollViewer"
                                                  HorizontalScrollBarVisibility="Disabled"
                                                  VerticalScrollBarVisibility="Auto">
                                        <Grid x:Name="PART_WeekViewTimeGrid"
                                              ColumnDefinitions="50,*,*,*,*,*,*,*">
                                        </Grid>
                                    </ScrollViewer>
                                </DockPanel>

                            </Panel>
                        </Grid>

                    </DockPanel>
                </Border>
            </ControlTemplate>
        </Setter>

        <!-- Month mode: show month view, hide week view -->
        <Style Selector="^:month /template/ DockPanel#PART_MonthView">
            <Setter Property="IsVisible" Value="True" />
        </Style>
        <Style Selector="^:month /template/ DockPanel#PART_WeekView">
            <Setter Property="IsVisible" Value="False" />
        </Style>
        <Style Selector="^:month /template/ Button#PART_MonthButton">
            <Setter Property="Background" Value="{DynamicResource CobaltSelectionBrush}" />
        </Style>

        <!-- Week mode: show week view, hide month view -->
        <Style Selector="^:week /template/ DockPanel#PART_WeekView">
            <Setter Property="IsVisible" Value="True" />
        </Style>
        <Style Selector="^:week /template/ DockPanel#PART_MonthView">
            <Setter Property="IsVisible" Value="False" />
        </Style>
        <Style Selector="^:week /template/ Button#PART_WeekButton">
            <Setter Property="Background" Value="{DynamicResource CobaltSelectionBrush}" />
        </Style>

    </ControlTheme>

</ResourceDictionary>
